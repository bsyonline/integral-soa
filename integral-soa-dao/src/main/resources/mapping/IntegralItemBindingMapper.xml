<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lenovo.m2.integral.soa.dao.IntegralItemBindingDao">

        <insert id="addIntegralItem" parameterType="com.lenovo.m2.integral.soa.domain.IntegralItem">
                insert into integral_item
                (item_id,
                item_name,
                coupon_id,
                binding_type)
                values
                (#{itemId},
                #{itemName},
                #{couponId},
                #{bindingType},
        </insert>

        <select id="getIntegralItem" parameterType="java.lang.String" resultMap="integralItemResultMap">
                SELECT item_id,item_name,coupon_id,binding_type
                FROM integral_item
                WHERE item_id=#{itemId}
        </select>

        <resultMap id="integralItemResultMap" type="com.lenovo.m2.integral.soa.domain.IntegralItem">
                <id column="item_id" property="itemId"/>
                <result column="item_name" property="itemName"/>
                <result column="coupon_id" property="couponId"/>
                <result column="binding_type" property="bindingType"/>
        </resultMap>

        <update id="updateIntegralItem" parameterType="com.lenovo.m2.integral.soa.domain.IntegralItem">
                UPDATE integral_coupon
                <set>
                        <if test="itemName!=null">item_name=#{itemName},</if>
                        <if test="couponId!=null">coupon_id=#{couponId},</if>
                        <if test="bindingType!=null">binding_type=#{bindingType},</if>
                </set>
                WHERE item_id=#{itemId}
        </update>

        <delete id="deleteIntegtalItem" parameterType="java.lang.String">
                DELETE FROM integral_item WHERE item_id=#{itemId}
        </delete>



</mapper>